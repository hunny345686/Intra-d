
<!-- src/app/homepage/homepage.component.html -->
<!-- Main Container for Homepage Content -->
<div class="homepage-content-wrapper">
    <!-- Pre-Login Content -->
    <div *ngIf="!isLoggedIn">
        <!-- Category Buttons Section -->
        <div id="category-buttons-section" class="row text-center gx-3 gy-3 mb-4">
            <div class="col-6 col-md-3">
                <a href="#" class="btn btn-primary-green w-100 rounded-lg-custom py-3 shadow-sm fw-semibold">Machine</a>
            </div>
            <div class="col-6 col-md-3">
                <a href="#"
                    class="btn btn-secondary-blue w-100 rounded-lg-custom py-3 shadow-sm fw-semibold">Farmers</a>
            </div>
            <div class="col-6 col-md-3">
                <a href="#" class="btn btn-info-light w-100 rounded-lg-custom py-3 shadow-sm fw-semibold">Crops</a>
            </div>
            <div class="col-6 col-md-3">
                <a href="#"
                    class="btn btn-warning-light w-100 rounded-lg-custom py-3 shadow-sm fw-semibold">Products</a>
            </div>
        </div>

        <!-- Carousel and Login Section -->
        <div id="pre-login-content" class="row align-items-start mt-4">
            <div class="col-md-8">
                <div id="homepageCarousel" class="carousel slide mb-5 rounded-lg-custom overflow-hidden shadow-md"
                    data-bs-ride="carousel">
                    <div class="carousel-inner">
                       <div class="carousel-item active">
                    <img src="assets/images/aggriculture-banner.png"
                        class="d-block w-100 rounded-lg-custom" alt="Slide 1: Green Fields">
                </div>
                <!-- <div class="carousel-item">
                    <img src="assets/images/agri.png"
                        class="d-block w-100 rounded-lg-custom" alt="Slide 2: Agricultural Machinery">
                </div> -->
                <div class="carousel-item">
                    <img src="https://placehold.co/900x300/e9d0a7/34495e?text=Happy+Farmers+Working"
                        class="d-block w-100 rounded-lg-custom" alt="Slide 2: Farmers">
                </div>
                <div class="carousel-item">
                    <img src="https://placehold.co/900x300/a7d9b9/34495e?text=Green+Fields+and+Harvest"
                        class="d-block w-100 rounded-lg-custom" alt="Slide 3: Green Fields-1">
                </div>
                <div class="carousel-item">
                    <img src="https://placehold.co/900x300/c7d9ee/34495e?text=Modern+Agricultural+Machinery"
                        class="d-block w-100 rounded-lg-custom" alt="Slide 4: Agricultural Machinery-1">
                </div>
                    </div>
                    <!-- Carousel Controls -->
                    <button class="carousel-control-prev" type="button" data-bs-target="#homepageCarousel"
                        data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#homepageCarousel"
                        data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
            <div class="col-md-4">
                <app-login (loginSuccess)="onLoginSuccess()"></app-login>
            </div>
        </div>
    </div>

    <!-- Post-Login Content (Dashboard Component) -->
    <div *ngIf="isLoggedIn">
        <app-service-info></app-service-info>
    </div>
</div>

<!-- Signup Modal -->
<div class="modal fade" id="signupModal" tabindex="-1" aria-labelledby="signupModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content rounded-xl shadow-lg">
            <div class="modal-header bg-primary-green text-white p-4 rounded-top-custom">
                <h5 class="modal-title display-6 fw-bold" id="signupModalLabel">Sign Up Form:</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                    aria-label="Close"></button>
            </div>
            <div class="modal-body p-4">
                <form (ngSubmit)="handleSignup()" #signupForm="ngForm">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="modalName" class="form-label fw-semibold">Name:</label>
                            <input type="text" class="form-control rounded-md-custom" id="modalName"
                                [(ngModel)]="signupData.name" name="name" placeholder="Enter your full name" required>
                        </div>
                        <div class="col-md-6">
                            <label for="modalTypicalCrops" class="form-label fw-semibold">Typical Crops:</label>
                            <input type="text" class="form-control rounded-md-custom" id="modalTypicalCrops"
                                [(ngModel)]="signupData.typicalCrops" name="typicalCrops"
                                placeholder="e.g., Wheat, Rice">
                        </div>
                        <div class="col-md-6">
                            <label for="modalVillage" class="form-label fw-semibold">Village:</label>
                            <input type="text" class="form-control rounded-md-custom" id="modalVillage"
                                [(ngModel)]="signupData.village" name="village" placeholder="Enter your village name"
                                required>
                        </div>
                        <div class="col-md-6">
                            <label for="modalWaterSource" class="form-label fw-semibold">Water Source:</label>
                            <select class="form-select rounded-md-custom" id="modalWaterSource"
                                [(ngModel)]="signupData.waterSource" name="waterSource">
                                <option selected disabled value="">Select water source</option>
                                <option value="well">Well</option>
                                <option value="borewell">Borewell</option>
                                <option value="canal">Canal</option>
                                <option value="river">River</option>
                                <option value="rainfed">Rainfed</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="modalMandal" class="form-label fw-semibold">Mandal:</label>
                            <input type="text" class="form-control rounded-md-custom" id="modalMandal"
                                [(ngModel)]="signupData.mandal" name="mandal" placeholder="Enter your mandal" required>
                        </div>
                        <div class="col-md-6">
                            <label for="modalSoilTest" class="form-label fw-semibold">Soil Test:</label>
                            <select class="form-select rounded-md-custom" id="modalSoilTest"
                                [(ngModel)]="signupData.soilTest" name="soilTest">
                                <option selected disabled value="">Select soil test result (Optional)</option>
                                <option value="tested-high">Tested - High Nutrients</option>
                                <option value="tested-medium">Tested - Medium Nutrients</option>
                                <option value="tested-low">Tested - Low Nutrients</option>
                                <option value="not-tested">Not Tested</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="modalAadharNo" class="form-label fw-semibold">Aadhar No:</label>
                            <input type="text" class="form-control rounded-md-custom" id="modalAadharNo"
                                [(ngModel)]="signupData.aadharNo" name="aadharNo" placeholder="Enter your Aadhar number"
                                pattern="[0-9]{12}" title="Aadhar number must be 12 digits" required>
                        </div>
                        <div class="col-md-6">
                            <label for="modalSoilType" class="form-label fw-semibold">Soil Type:</label>
                            <select class="form-select rounded-md-custom" id="modalSoilType"
                                [(ngModel)]="signupData.soilType" name="soilType">
                                <option selected disabled value="">Select soil type</option>
                                <option value="sandy">Sandy</option>
                                <option value="clay">Clay</option>
                                <option value="loamy">Loamy</option>
                                <option value="silty">Silty</option>
                                <option value="alluvial">Alluvial</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="modalAcreOfLand" class="form-label fw-semibold">Acre of Land:</label>
                            <input type="number" class="form-control rounded-md-custom" id="modalAcreOfLand"
                                [(ngModel)]="signupData.acreOfLand" name="acreOfLand"
                                placeholder="Enter acres of land owned" min="0" step="any" required>
                        </div>
                        <div class="col-md-6">
                            <label for="modalFertilizers" class="form-label fw-semibold">Fertilizers:</label>
                            <select class="form-select rounded-md-custom" id="modalFertilizers"
                                [(ngModel)]="signupData.fertilizers" name="fertilizers">
                                <option selected disabled value="">Select common fertilizers used</option>
                                <option value="urea">Urea</option>
                                <option value="dap">DAP</option>
                                <option value="mop">MOP (Potash)</option>
                                <option value="npk">NPK Complex</option>
                                <option value="organic">Organic Fertilizers</option>
                            </select>
                        </div>
                    </div>
                    <button type="submit"
                        class="btn btn-primary-green rounded-md-custom mt-4 px-5 py-2 shadow-lg fw-semibold"
                        [disabled]="!signupForm.valid">Submit</button>
                </form>
            </div>
            <div class="modal-footer p-3 border-top d-flex justify-content-end">
                <button type="button" class="btn btn-secondary rounded-md-custom"
                    data-bs-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>

<!-- Success Modal (shared between Homepage and Dashboard, defined here for ease) -->
<div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-lg-custom shadow-lg">
            <div class="modal-header bg-success text-white p-3 rounded-top-custom">
                <h5 class="modal-title h5" id="successModalLabel">Form Submission</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                    aria-label="Close"></button>
            </div>
            <div class="modal-body p-4 text-secondary">
                Form submitted successfully! Check the console for details.
            </div>
            <div class="modal-footer p-3 border-top border-gray-200 d-flex justify-content-end">
                <button type="button" class="btn btn-secondary rounded-md-custom" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>